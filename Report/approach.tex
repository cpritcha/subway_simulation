\section{Approach}

\subsection{Rail System Models}
A natural data structure choice for representing a rail system is a directed graph.  In the most basic implementation, each station would be a vertex and the edges would each represent a directional track from one station to the next. Figure~\ref{fig:directedgraph} shows a directed graph model of the Sheppard Line in the Toronto subway system.
\begin{figure}[htb]
	\centering
	\includegraphics[width=6.5in]{directedgraph.png}
	\caption{Directed Graph Model of Sheppard Subway Line}
	\label{fig:directedgraph}
\end{figure}
What the directed graph representation lacks for this application is any notion of an integrated train model. A separate train model could be made to use the directed graph simply to know where to go next, but it would require much extra logic to determine \textit{if} it could go do the next station.  Where this decision is made is also not obvious when using the directed graph.

Similar to directed graphs and used in discrete event modeling of concurrent systems is a structure called a Petri net.~\cite{Petri62}  Synonymous to the vertices in a directed graph, Petri nets contain \textit{places}.  Whereas directed graphs use edges to connect those vertices, Petri nets use \textit{arcs}. However, Petri nets do not simply connect one \textit{place} to another.  \textit{Arcs} actually connect \textit{places} to \textit{transitions}. Each \textit{transition} has an input and an output arc joining it to \textit{places}.  Each \textit{place} optionally can contain a finite number of \textit{tokens}.  \textit{Tokens} for this application represent the trains.  More formally, they are objects that represent processes in a given state, where the states are represented by the \textit{places}.~\cite{Kristoffersen2003}  Figure~\ref{fig:petrinet} shows a Petri net model of the Sheppard subway line. The rectangles at the midpoint of the arcs represent the transitions and the black dots inside the represent the tokens.
\begin{figure}[htb]
	\centering
	\includegraphics[width=6.5in]{petrinet.png}
	\caption{Petri Net Model of Sheppard Subway Line}
	\label{fig:directedgraph}
\end{figure}
